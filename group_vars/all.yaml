mysql_host: sandr0o-1
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66303464346366316565323863383233393534303063653034623636346635613066656435373531
          3462626237666430666361303661646266346665663665350a323032313630323333353138346363
          39643134643566613434383532323937643433633430376132353862623135303431346236313937
          3739626636326638300a613535653931636164373737633264616430346662643834373362343766
          3235

grafana_user: sandro
grafana_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39616233356531363733393031323134373064333537326565616231666634303235393961633132
          3436386435626332316235356663613132626366383930350a626434373266336365353564333463
          30396162646166303465336336353930366132393035626432366265646465396339363563326361
          6233616166303830340a663265653931643230646263656166303630376236323832393039346430
          3537

mysql_exporter_user: exporter
mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36323162353733376432616663663537393635376432373134333262363462653966636130393931
          6336393739323865383866383431313365643462383536630a346434656463643038323063613238
          35663433626663333466333266393563366334633763383936326539613538663430663832323832
          6438663434633866300a623539373164333931636265303331643366396433613836343337333336
          6135

backup_user: backup
backup_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30376635353861376366643531653337326232666363336365663966313739393837353361663339
          3934383236316134306636323861393036396561643637320a373466336464653935653865373330
          32663865303263326337333832366232343139626365386639353663303337373164663938626636
          3334323066383063330a393631346662383266663861306336643135623835303230376661663464
          6262

prometheus_user: prometheus

replication_user: replication
replication_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36383963343737623065613438396263613834653731653065313531343630636233356433383363
          6436633331343263626233373333623133396162636235640a663533616530323730653339333137
          38613231376462353036656461636165316330613130383265366131323839343064373632356162
          3162326431366166330a613736336337306132616462333366653439306162663662313537666233
          3163

docker_user: sandr0o  
docker_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62396265333031366337316539313330666439326339653539353432616238333637303536393332
          6364656633663561376538333432646335613839666233300a613465633537643335313735306561
          33633934353935623463333235316233663665393438653732323561303538373632663134353533
          3030656431323633340a393936376664363939353335346131663933353765363832613866636230
          30653364643834346531613537306561626362393836396234313464373639383537

forwarders:
  - 1.1.1.1;
  - 8.8.8.8;
  - 9.9.9.9;
  - 9.9.9.10;

allowed:
  - 192.168.42.0/24;
  - 127.0.0.0/8;
  - 172.17.0.0/16;

startup: luntik.sc

backupserver: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
# ssh-ed25519

#port1: 17122

domainName: luntik.sc
zone: db.luntik.sc

vms:
  - sandr0o-1
  - sandr0o-2
  - sandr0o-3

node_id: "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'].split('.')[-1] }}"

grafana_port: 3001
agama_port: 8001
nginx_port: 8080
pinger_port: 8086
prometheus_port: 9090
influxdb_port: 8086
haproxy_port: 88

keepalived_interface: ens3
keepalived_virtual_id: 13

public_url: http://{{ ansible_host }}:{{ ansible_port//100}}80

mysql_exporter_port: 9104
bind_exporter_port: 9119
node_exporter_port: 9100
nginx_exporter_port: 9113
influxdb_exporter_port: 9424
keepalived_exporter_port: 9165
haproxy_exporter_port: 9101

dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65366232333739353165653936313531393364656331316439626431336130326138316463313236
          3463353130386130623161376134616336336432626663380a633433623962343135613933663638
          30386132323339643438646332323637663233383430363730646664643734376537646132393561
          6239383061613664350a613933393138646263643761666539353035336365623665316566623336
          64646630396339316536333162633964366237643835656161613131366637303830623836643366
          6134343663343261383938333835343065396137313935313337

dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66633265303431303665653538306463373036313263663331323965303437326266653839633139
          3063356534373933343332316137383430353936636436610a366663653864353039353235613462
          36396230613462633562306339626563316662396662653338366332343065353962623430306635
          3731336131393532370a386533656166616664376165623064343862616333373937343762313736
          62353436363630666531363933646139306438643363633030633232353261353361303738343536
          3365306135626366626639353164623834656161663532366466

dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  web1: "{{ groups['nginx'][0] }}"
  web2: "{{ groups['nginx'][1] }}"
  web3: "{{ groups['nginx'][2] }}"
  lb1: "{{ groups['web_servers'][0] }}"
  lb2: "{{ groups['web_servers'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  ns2: "{{ groups['dns_servers'][1] }}"
  ns3: "{{ groups['dns_servers'][2] }}"

dns_a_records:
  backup: 192.168.42.132
  cloudfare: 1.1.1.1
  google: 8.8.8.8
  google2: 8.8.4.4

vm_hostname: "{{ inventory_hostname }}"
vm0: sandr0o
vm1: sandr0o-1
vm2: sandr0o-2
vm3: sandr0o-3

agama_container_per_vm: 2
keepalived_interface: ens3
keepalived_virtual_id: 13
keepalived_master_priority: 100
keepalived_slave_priority: 99

exporters:
  - endpoint: "mysql-metrics"
    port: 9104
    groups: "db_servers"
    name: mysql
  - endpoint: "bind-metrics"
    port: 9119
    groups: "dns_servers"
    name: ns
  - endpoint: "node-metrics"
    port: 9100
    groups: "all"
    name: sandr0o-
  - endpoint: "nginx-metrics"
    port: 9113
    groups: "nginx"
    name: web
  - endpoint: "keepalived-metrics"
    port: 9165
    groups: "keepalived"
    name: lb
  - endpoint: "haproxy-metrics"
    port: 9101
    groups: "haproxy"
    name: lb
  - endpoint: "influxdb-metrics"
    port: 9424
    groups: "influxdb"
    name: influxdb


